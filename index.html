<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="https://8df1aca38b06.eu.ngrok.io/client_script.js"> </script>
    <!-- <iframe src="https://almatt.github.io/frame-script/" name="payboxFrame" frameborder="0"></iframe> -->
    <iframe width="100%" height="100%" name="payboxFrame" src="https://pretty-bobcat-88.loca.lt?customer=29f553159c1a2627d380733e49b0a7ee"
        frameborder="0"></iframe>
    <script>

        // window.onload = () => {
        //     window.PayBoxPayButtons(
        //         'paybox',
        //         'ТОКЕН', 
        //         {
        //             amount: 100, 
        //             description: 'Описание'
        //         }, 
        //         success, 
        //         error, 
        //         canMake, 
        //         cantMake
        //     );

        //     function success(r) {
        //         //
        //     }

        //     function error(r) {
        //         //
        //     }

        //     function canMake() {
        //         //
        //     }

        //     function cantMake(err) {
        //         //
        //     }

        //     window.PayBoxPayButtons(
        //         'paybox1',
        //         'CdLAdlGDTVZwvPhOBNsY5BotwMgVIN8b', // qZ0iGnvGZTMuU0RTdBHsCXe9XPPG2auw CdLAdlGDTVZwvPhOBNsY5BotwMgVIN8b
        //         {
        //             amount: 2, description: 'asd'
        //         },
        //         success,
        //         error,
        //         canMakeA,
        //         cantMake
        //     );
        // }
        
        // // client-script
        // setTimeout(async () => {
        //     const response = await window.ApplePaySession.canMakePaymentsWithActiveCard('merchant.kz.paybox.p2p');

        //     window.frames[0].postMessage({
        //         event: response
        //     },'*');
        // }, 2000);

        // window.addEventListener("message", receiveMessage, false);

        // function receiveMessage(event) {
        //     console.log(event);

        //     const options = {
        //             'total': {
        //                 'label': 'ApplePay',
        //                 'amount': 200,
        //             },
        //             'countryCode': 'KZ',
        //             'currencyCode': 'KZT',
        //             'merchantCapabilities': ['supports3DS'],
        //             'supportedNetworks': ['masterCard', 'visa']
        //     }

        //     const applePaySession = new window.ApplePaySession(1, options);

        //     applePaySession.onvalidatemerchant = function() { console.log('validation') };
        //     applePaySession.onpaymentauthorized = function() { console.log('paymentauth') };

        //     applePaySession.begin();
        // }
    </script>
</body>
</html>