<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="https://staging.paybox.kz/client_script.js"> </script>
    <!-- <iframe src="https://almatt.github.io/frame-script/" name="payboxFrame" frameborder="0"></iframe> -->

    <iframe
        width="100%" 
        height="100%" 
        name="payboxFrame" 
        src="https://staging.paybox.kz/v1/merchant/9970/card/payment?pg_payment_id=9c81bc20aec28cca4dfc5d70bb8a6e36"
        frameborder="0"></iframe>
        <!-- src="https://2ee91b755ac0.ngrok.io/v1/merchant/1/card/payment?pg_payment_id=be28300632f0b13e825b567bdfa5ffad" -->
        <!-- src="https://2ee91b755ac0.ngrok.io/widget.html?customer=d4b51fb539cff38af146d7cb28e3246c" -->
    <script>
        // window.onload = () => {
        //     window.PayBoxPayButtons(
        //         'paybox',
        //         'ТОКЕН', 
        //         {
        //             amount: 100, 
        //             description: 'Описание'
        //         }, 
        //         success, 
        //         error, 
        //         canMake, 
        //         cantMake
        //     );

        //     function success(r) {
        //         //
        //     }

        //     function error(r) {
        //         //
        //     }

        //     function canMake() {
        //         //
        //     }

        //     function cantMake(err) {
        //         //
        //     }

        //     window.PayBoxPayButtons(
        //         'paybox1',
        //         'CdLAdlGDTVZwvPhOBNsY5BotwMgVIN8b', // qZ0iGnvGZTMuU0RTdBHsCXe9XPPG2auw CdLAdlGDTVZwvPhOBNsY5BotwMgVIN8b
        //         {
        //             amount: 2, description: 'asd'
        //         },
        //         success,
        //         error,
        //         canMakeA,
        //         cantMake
        //     );
        // }
        
        // // client-script
        // setTimeout(async () => {
        //     const response = await window.ApplePaySession.canMakePaymentsWithActiveCard('merchant.kz.paybox.p2p');

        //     window.frames[0].postMessage({
        //         event: response
        //     },'*');
        // }, 2000);

        // window.addEventListener("message", receiveMessage, false);

        // function receiveMessage(event) {
        //     console.log(event);

        //     const options = {
        //             'total': {
        //                 'label': 'ApplePay',
        //                 'amount': 200,
        //             },
        //             'countryCode': 'KZ',
        //             'currencyCode': 'KZT',
        //             'merchantCapabilities': ['supports3DS'],
        //             'supportedNetworks': ['masterCard', 'visa']
        //     }

        //     const applePaySession = new window.ApplePaySession(1, options);

        //     applePaySession.onvalidatemerchant = function() { console.log('validation') };
        //     applePaySession.onpaymentauthorized = function() { console.log('paymentauth') };

        //     applePaySession.begin();
        // }
    </script>
</body>
</html>